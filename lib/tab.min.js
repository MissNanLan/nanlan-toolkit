!(function (t) {
  "function" == typeof define && define.amd ? define(t) : t();
})(function () {
  "use strict";
  !(function (t, i) {
    "undefined" != typeof require &&
      void 0 === t.$ &&
      (t.$ = require("jquery"));
    var e = t.$;
    "function" == typeof define && define.amd
      ? define(function () {
          return i(e);
        })
      : "undefined" != typeof module && module.exports
      ? (module.exports = i(e))
      : (t.Tab = i(e));
  })("undefined" != typeof window ? window : void 0, function (o) {
    console.log(o);
    function t(t, i) {
      console.log(t);
      var e = this;
      (this.tab = t),
        (this.default = {
          trigger: "click",
          animation: !0,
          defaultTab: 1,
          auto: !1,
        }),
        (this.config = o.extend({}, this.default, i)),
        console.log("config", this.config),
        (this.tabItems = o(this.tab).find("ul.tab-nav li")),
        (this.contentItems = o(this.tab).find(
          "div.tab-content div.tab-content__item"
        )),
        (this.tabLength = this.tabItems.length),
        "click" == this.config.trigger
          ? this.tabItems.bind(this.config.trigger, function () {
              e.invoke(o(this));
            })
          : "mouseover" == this.config.trigger &&
            this.tabItems
              .mouseover(this.config.triggerType, function () {
                var t = o(this);
                this.timer = window.setTimeout(function () {
                  e.invoke(t);
                }, 300);
              })
              .mouseout(function () {
                window.clearTimeout(this.timer);
              }),
        this.config.auto &&
          ((this.timer = null),
          (this.loop = 0),
          this.autoplay(),
          this.tab.hover(
            function () {
              window.clearInterval(e.timer);
            },
            function () {
              e.autoplay();
            }
          )),
        1 < this.config.defaultTab &&
          this.config.defaultTab <= this.tabLength &&
          this.invoke(this.tabItems.eq(this.config.defaultTab - 1));
    }
    return (
      (t.prototype = {
        autoplay: function () {
          var t = this;
          this.timer = window.setInterval(function () {
            t.loop++,
              t.loop >= t.tabLength && (t.loop = 0),
              console.log("loop", t.loop),
              t.invoke(t.tabItems.eq(t.loop));
          }, this.config.auto);
        },
        invoke: function (t) {
          var i = t.index();
          t.addClass("active").siblings().removeClass("active"),
            this.config.animation
              ? this.contentItems.eq(i).fadeIn().siblings().fadeOut()
              : this.contentItems
                  .eq(i)
                  .addClass("active")
                  .siblings()
                  .removeClass("active"),
            this.config.auto && (this.loop = i);
        },
      }),
      t
    );
  });
});
